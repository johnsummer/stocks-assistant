# CLIツールの使い方

## 起動

- 特定の銘柄コードだけトレードしたい場合、以下のコマンドで起動する（単独モード）
  ```
  python TradingTraining-CLI.py [銘柄コード]
  ```
- 途中銘柄の切り替えができるようなトレードをしたい場合、以下のコマンドで起動する（銘柄可変モード）
  ```
  python TradingTraining-CLI.py ca
  ```
  または
  ```
  python TradingTraining-CLI.py changeable
  ```
- その他のパラメータについては以下のコマンドで確認できる
  ```
  python TradingTraining-CLI.py -h
  ```

## 起動後の操作コマンド

### 指令・操作系コマンド

- `yyyymmdd [空売りロット数]-[買いロット数]`：取引する。
  - それぞれ持っているロット数と同じ数で入力した場合、実際取引が発生しない。その場合、該当日付の株価と比較し、`平均売り単価`・`平均取得単価`の背景色により損か益かの確認ができる。
- `memo yyyymmdd [メモ内容]`:指定した日付に対してメモを記録する。
  - 大引けの日付を基準でメモを記録する。寄付の場合は指定した日付の次の営業日に対してメモを記録する。
- `history show [close/open]`：戻す可能な取引一覧を表示する。
  - `[close/open]`の指定を省力した場合、大引け売買の取引のみ表示する。
- `history reset [番号]`：指定した番号(何件前)の取引の状態に戻す。番号は`history show`で確認可能。現状は最大30件前の取引の状態に戻す可能。
  - あくまでも誤入力を修正するための再トレードのための機能。意図的にミスを取り消すことを防ぐため、戻す可能な件数を制限している。
- `exit`：アプリを終了する。

### トレード時のパラメータを設定するコマンド

- `y=xxxx`：取引の年を設定する。これ以降は取引、またはメモする際は`yyyy`の指定が省略可能になり、`mmdd`の部分だけ入力すればよい。
- `l=[整数]`：ロットサイズを変更する。
  - ポジションが`0-0`でない場合はロットサイズの変更ができない。
  - `history reset`コマンドで取引の状態を戻した場合、戻す先の取引当時のロットサイズに設定される。
- `i=[銘柄コード]`：銘柄可変モードの場合、トレード対象の銘柄コードを指定し、トレード対象の銘柄を切り替える。
  - ポジションが`0-0`でない場合は銘柄の切り替えができない。
- `allow_over_assets=[true/false]`：空売り、または買い注文の総額が総資産を超過しているかを常にチェックされているが、超過している場合の処理モードを設定する。
  - `true`: 警告を出す。
  - `false`: 超過のほう(空売り、または買い)の新規注文はできない　(デフォルト)。
  - ※空売りと買いの注文総額が信用取引の限度(総資産の3.3倍)を超えた場合、処理モードの設定に問わず、注文総額がその限度を下回るまでは新規注文ができない。

## その他

- 背景色について
  - 赤：利益になっている
  - 緑：損になっている